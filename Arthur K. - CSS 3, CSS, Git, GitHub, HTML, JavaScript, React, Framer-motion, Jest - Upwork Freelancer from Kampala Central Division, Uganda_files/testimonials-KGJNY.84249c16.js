(window.webpackJsonp=window.webpackJsonp||[]).push([[947],{2e3:function(t,e,n){var content=n(2520);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(6).default)("479b9194",content,!0,{sourceMap:!1,manualInject:!0})},2519:function(t,e,n){"use strict";n(2e3)},2520:function(t,e,n){var o=n(5)(!1);o.push([t.i,".air-icon-exclamation-circle[data-v-74acacd8]{color:#a0a0a0}.testimonial-request-date[data-v-74acacd8]{font-size:12px;color:#656565;float:right;display:none}@media (min-width:768px){.testimonial-request-date[data-v-74acacd8]{display:inline-block}}.up-btn-link[data-v-74acacd8]{line-height:18px}.up-switch[data-v-74acacd8]{padding:0;margin:0;border-radius:20px}",""]),t.exports=o},3168:function(t,e,n){"use strict";n.r(e);var o=n(76),l=n(685),r=n(974),c=n(602),d=n(80),_=n(67),m=n(2517),v=n.n(m),f={i18n:{messages:n(580).a},injectStyles:[v.a],components:{UpCIcon:o.default,UpCIllustration:l.a,UpCPopover:d.default,UpCSwitch:r.a,TestimonialsRequestModal:()=>Promise.all([n.e(15),n.e(1011)]).then(n.bind(null,3127))},filters:{formatDate:c.a},props:{isOwner:{type:Boolean,required:!0},isLoading:{type:Boolean,default:!1},profile:{type:Object,required:!0},testimonials:{type:Array,required:!0},isEditModeEnabled:{type:Boolean,default:!1},isDisabledEditMode:{type:Boolean,default:!1}},data:()=>({STATUS_PENDING:1,STATUS_SUBMITTED:2,STATUS_APPROVED:3,STATUS_UNAPPROVED:4,STATUS_HIDDEN:5}),computed:{isVisible(){return this.isEditModeEnabled||!!(this.testimonials||[]).find((t=>t.status===this.STATUS_APPROVED))},isIntroSectionVisible(){return this.isEditModeEnabled&&!this.isLoading&&!this.testimonials.length}},methods:{fetchTestimonials(){this.$store.dispatch("profileViewer/fetchTestimonials",this.profile.identity.uid)},async toggleTestimonialVisibility(t){const e=t.status!==this.STATUS_APPROVED;this.logEvent("click","toggle_testimonial_visibility",{testimonial:t,visible:e}),await _.a.toggleVisibility(this.$http,t.uid,e),this.fetchTestimonials()},lastNameToOneLetter:t=>t?"".concat(t[0],"."):"",onClickRequestTestimonial(){this.$refs.modal.open()},onTestimonialCreated(){this.createToaster({content:this.$t("cfeui_pro_YourTestimonialRequestHasBeenSent_226"),duration:4e3,type:"success"}),this.fetchTestimonials()},logEvent(t,label,data){const e={testimonials:this.testimonials,personUid:this.profile.identity.uid,isOwner:this.isOwner},n={event:t,sublocation:"testimonials",label:label,data:Object.assign(e,data)};this.$emit("event-log",n)}}},T=(n(2519),n(3)),component=Object(T.a)(f,(function(){var t=this,e=t._self._c;return t.isVisible?e("div",{staticClass:"up-card py-0"},[t.isOwner?e("testimonials-request-modal",{ref:"modal",attrs:{profile:t.profile,settings:{}},on:{created:t.onTestimonialCreated}}):t._e(),t._v(" "),e("div",{staticClass:"up-card-header"},[e("div",{staticClass:"d-flex",staticStyle:{"align-items":"flex-start"}},[e("div",{staticClass:"flex-1"},[e("h2",{staticClass:"mb-0"},[t._v(t._s(t.$t("cfeui_pro_Testimonials_116")))]),t._v(" "),e("p",{staticClass:"mb-0"},[t._v(t._s(t.$t("cfeui_pro_EndorsementsFromPastClients_117")))])]),t._v(" "),t.isEditModeEnabled?e("button",{staticClass:"up-btn up-btn-default up-btn-circle up-btn-sm btn-request-testimonial",attrs:{title:t.$t("cfeui_pro_AddATestimonial_287"),disabled:t.isDisabledEditMode},on:{click:function(e){return t.onClickRequestTestimonial()}}},[e("up-c-icon",{attrs:{name:"add"}})],1):t._e()])]),t._v(" "),e("section",{staticClass:"up-card-section pb-30"},[e("div",{staticClass:"testimonials up-loader-container"},[e("div",{staticClass:"up-loader-overlay",class:{"is-open":t.isLoading},attrs:{role:"alert"}},[e("up-c-icon",{attrs:{name:"spinner",size:"lg"}})],1),t._v(" "),t.isIntroSectionVisible?e("section",{staticClass:"air-card-divider-sm"},[e("div",{staticClass:"text-center pt-0"},[e("div",{staticClass:"row pt-0 p-md-bottom"},[e("div",{staticClass:"col-md-10 col-md-offset-1"},[e("up-c-illustration",{staticClass:"my-20",attrs:{name:"freelancer-search"}}),t._v(" "),t.$slots.emptyStateHeaderLabel?t._e():e("div",{staticClass:"mt-0 mb-10",attrs:{role:"presentation"}},[t._v("\n                "+t._s(t.$t("cfeui_pro_ShowcaseYourSkillsWithNonUpworkClientTes_118"))+"\n              ")]),t._v(" "),t.$slots.emptyStateHeaderLabel?e("div",{staticClass:"mt-0 mb-10",attrs:{role:"presentation"}},[t._t("emptyStateHeaderLabel")],2):t._e(),t._v(" "),t.$slots.emptyStateButtonLabel?t._e():e("button",{staticClass:"up-btn-link",attrs:{"aria-label":t.$t("cfeui_pro_RequestATestimonial_119"),disabled:t.isDisabledEditMode},on:{click:function(e){return t.onClickRequestTestimonial()}}},[t._v("\n                "+t._s(t.$t("cfeui_pro_RequestATestimonial_119"))+"\n              ")]),t._v(" "),t.$slots.emptyStateButtonLabel?e("button",{staticClass:"up-btn-link",attrs:{"aria-label":t.$t("cfeui_pro_RequestATestimonial_119"),disabled:t.isDisabledEditMode},on:{click:function(e){return t.onClickRequestTestimonial()}}},[t._t("emptyStateButtonLabel")],2):t._e()],1)])])]):t._e(),t._v(" "),t._l(t.testimonials,(function(n,o){return e("section",{key:n.uid,staticClass:"testimonial-item",class:{"status-pending":n.status===t.STATUS_PENDING,"status-submitted":n.status===t.STATUS_SUBMITTED,"status-approved":n.status===t.STATUS_APPROVED,"status-hidden":n.status===t.STATUS_HIDDEN}},[e("div",{staticClass:"row"},[!n.quote||n.status!==t.STATUS_APPROVED&&n.status!==t.STATUS_HIDDEN?t._e():e("div",{staticClass:"col-12"},[e("p",{staticClass:"mb-20"},[t._v('"'+t._s(n.quote)+'"')]),t._v(" "),e("div",{staticClass:"pull-left d-flex"},[e("div",{staticClass:"avatar mr-20"}),t._v(" "),e("small",[e("strong",[t._v("\n                  "+t._s(n.firstName)+" "+t._s(t.lastNameToOneLetter(n.lastName))+"\n                  "),n.position?e("span",[t._v("| "+t._s(n.position))]):t._e()]),t._v(" "),e("br"),t._v(" "),n.projectName?e("div",[t._v(t._s(n.projectName))]):t._e(),t._v(" "),e("span",{staticClass:"vertical-align-middle pr-10"},[t._v("\n                  "+t._s(t._f("formatDate")(n.updatedTs,"MMM YYYY"))+"\n                ")]),t._v(" "),e("up-c-icon",{staticClass:"text-primary vertical-align-middle",attrs:{name:"complete-circle"}}),t._v(" "),e("span",{staticClass:"vertical-align-middle text-muted"},[t._v("\n                  "+t._s(t.$t("cfeui_pro_Verified_57"))+"\n                ")])],1)]),t._v(" "),t.isEditModeEnabled?e("div",{staticClass:"pull-right text-right"},[e("strong",{staticClass:"d-block text-center mb-10"},[t._v("\n                "+t._s(t.$t("cfeui_pro_Visibility_135"))+"\n              ")]),t._v(" "),e("up-c-switch",{staticClass:"d-inline-block vertical-align-middle",attrs:{checked:n.status!==t.STATUS_HIDDEN},on:{change:function(e){return t.toggleTestimonialVisibility(n)}}})],1):t._e()]),t._v(" "),!t.isEditModeEnabled||n.status!==t.STATUS_PENDING&&n.status!==t.STATUS_SUBMITTED?t._e():e("div",{staticClass:"col-12"},[e("up-c-icon",{staticClass:"m-sm-right",attrs:{name:"clock-history",size:"sm"}}),t._v(" "),n.status===t.STATUS_PENDING?e("span",[t._v("\n              "+t._s(t.$t("cfeui_pro_YourTestimonialRequestIsAwaitingNTestimo_211",{firstName:n.firstName}))+"\n              "),n.requestDate?e("span",{staticClass:"testimonial-request-date"},[e("i18n",{attrs:{path:"cfeui_pro_RequestSent_121.fullText"},scopedSlots:t._u([{key:"boldText",fn:function(){return[e("strong",[t._v(t._s(t.$t("cfeui_pro_RequestSent_121.boldText")))])]},proxy:!0},{key:"requestDate",fn:function(){return[t._v("\n                    "+t._s(t.$d(Date.parse(n.requestDate)))+"\n                  ")]},proxy:!0}],null,!0)})],1):t._e()]):t._e(),t._v(" "),n.status===t.STATUS_SUBMITTED?e("span",[t._v("\n              "+t._s(t.$t("cfeui_pro_YourTestimonialRequestToTestimonialFirst_212",{firstName:n.firstName}))+"\n              "),n.requestDate?e("span",{staticClass:"testimonial-request-date"},[e("up-c-popover",{attrs:{"auto-close":!1,target:"#request-info",size:"md",trigger:"hover",placement:"top"}},[e("p",[t._v(t._s(t.$t("cfeui_pro_WellEmailYouAsSoonAsYourTestimonialIsApp_120")))])]),t._v(" "),e("up-c-icon",{attrs:{id:"request-info",name:"question-circle"}}),t._v(" "),e("i18n",{attrs:{path:"cfeui_pro_RequestSent_121.fullText"},scopedSlots:t._u([{key:"boldText",fn:function(){return[e("strong",[t._v("\n                      "+t._s(t.$t("cfeui_pro_RequestSent_121.boldText"))+"\n                    ")])]},proxy:!0},{key:"requestDate",fn:function(){return[t._v("\n                    "+t._s(t.$d(n.requestDate))+"\n                  ")]},proxy:!0}],null,!0)})],1):t._e()]):t._e()],1)]),t._v(" "),o<t.testimonials.length-1?e("hr"):t._e()])})),t._v(" "),t.isEditModeEnabled&&t.testimonials.length?e("section",[e("hr"),t._v(" "),e("button",{staticClass:"up-btn up-btn-link px-0 m-0",attrs:{disabled:t.isDisabledEditMode},on:{click:function(e){return t.onClickRequestTestimonial()}}},[e("up-c-icon",{attrs:{name:"add"}}),t._v("\n          "+t._s(t.$t("cfeui_pro_RequestANewTestimonial_122"))+"\n        ")],1)]):t._e()],2)])],1):t._e()}),[],!1,null,"74acacd8",null);e.default=component.exports}}]);
//# sourceMappingURL=https://upwork-usw2-staging-assets-jsmaps.s3.us-west-2.amazonaws.com/FreelancerProfileNuxt/testimonials-KGJNY.84249c16.js.map