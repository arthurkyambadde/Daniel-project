(window.webpackJsonp=window.webpackJsonp||[]).push([[916],{1887:function(t,e,l){"use strict";var o=l(105),r=l(104);const n="closed-smf-id";var c={name:"UpCSmf",props:{location:{type:String,default:"top"},url:{type:String,default:""},http:{type:Function,default:null},httpGql:{type:Function,default:null},orgUid:{type:String,default:null},visitorId:{type:String,default:null},tracker:{type:Object,default:null},skipFetch:{type:Boolean,default:!1},localStorage:{type:Object,default:null}},computed:{filteredMessages(){return this.$store.getters["smf/getMessages"](this.location)},getUrl(){var t,e;return this.url||"undefined"!=typeof window&&window.location.pathname||"".concat(null===(t=this.$router)||void 0===t?void 0:t.options.base).concat(null===(e=this.$router)||void 0===e?void 0:e.currentRoute.path).replace("//","/")},httpApi(){return this.httpGql||this.http},isGraphqlEnabled(){return!!this.httpGql}},created(){Object(o.a)(this.$store,this.isGraphqlEnabled,this.httpApi,this.tracker),this.skipFetch||this.$store.dispatch("smf/RETRIEVE",{location:this.location,url:this.getUrl,orgUid:this.orgUid,visitorId:this.visitorId})},mounted(){this.registerLocalStorageListener()},destroyed(){this.callRemoveLocalStorage()},methods:{async onAlertClose(t){var e;let{displayLocation:l,templateUid:o}=t;await this.$store.dispatch("smf/DISMISS",{location:l,templateUid:o,visitorId:this.visitorId}),this.callRemoveLocalStorage(),null===(e=this.localStorage)||void 0===e||e.set(n,o)},async onClick(t){"A"===t.target.tagName&&Object(r.a)(this.tracker,"click","smf_click_link")},callRemoveLocalStorage(){this.removeLocalStorageListener&&(this.removeLocalStorageListener(),this.removeLocalStorageListener=null)},lsTriggeredAndCloseSMF(){var t,e;const l=null===(t=this.localStorage)||void 0===t?void 0:t.get(n);if(!l||0===this.filteredMessages.length)return;const{templateUid:o}=null===(e=this.filteredMessages)||void 0===e?void 0:e[0];l===o&&(this.$store.dispatch("smf/REMOVEMESSAGE",{templateUid:o}),this.callRemoveLocalStorage())},registerLocalStorageListener(){var t;this.localStorage&&!this.removeLocalStorageListener&&(this.removeLocalStorageListener=null===(t=this.localStorage)||void 0===t?void 0:t.onUpdate((t=>{t===n&&this.lsTriggeredAndCloseSMF()})))}}},d=l(3),component=Object(d.a)(c,(function(){var t=this,e=t._self._c;return t.filteredMessages&&t.filteredMessages.length?e("div",{attrs:{"data-cy":"smf"}},t._l(t.filteredMessages,(function(l){return e("div",{key:l.type,attrs:{role:"alert"},on:{"!click":function(e){return t.onClick.apply(null,arguments)}}},[e("up-c-alert",{attrs:{type:l.type,close:1===l.dismissible||!0===l.dismissible},on:{"alert-close":function(e){return t.onAlertClose(l)}}},[e("div",{domProps:{innerHTML:t._s(l.content)}})])],1)})),0):t._e()}),[],!1,null,null,null);e.a=component.exports},3215:function(t,e,l){"use strict";l.r(e);var o=l(643),r=l(1887),n={components:{[o.default.name]:o.default},mixins:[r.a]},c=l(3),component=Object(c.a)(n,undefined,undefined,!1,null,null,null);e.default=component.exports}}]);
//# sourceMappingURL=https://upwork-usw2-staging-assets-jsmaps.s3.us-west-2.amazonaws.com/FreelancerProfileNuxt/smf-05IFo.c5a5302b.js.map